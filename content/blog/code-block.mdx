---
title: Code Blocks
description: Advanced code blocks with highlighting, file names and more..
date: 2024-06-17
published: true
---

The code blocks on the documentation site and the blog are powered by [rehype-pretty-code](https://github.com/atomiks/rehype-pretty-code). The syntax highlighting is done using [shiki](https://github.com/shikijs/shiki).

It has the following features:

1. Beautiful code blocks with syntax highlighting.
2. Support for VS Code themes.
3. Works with hundreds of languages.
4. Line and word highlighting.
5. Support for line numbers.
6. Show code block titles using meta strings.

<Callout>

Thanks to Shiki, highlighting is done at build time. No JavaScript is sent to the client for runtime highlighting.

</Callout>

## Example

```ts showLineNumbers title="next.config.js" {3} /appDir: true/
import { build } from "velite";

/** @type {import('next').NextConfig} */
const nextConfig =  {
  logging: {
    fetches: {
      fullUrl: true,
    },
  },
  webpack: (config) => {
    config.plugins.push(new VeliteWebpackPlugin());
    return config;
  },
};

export default nextConfig;

class VeliteWebpackPlugin {
  static started = false;
  constructor(/** @type {import('velite').Options} */ options = {}) {
    this.options = options;
  }
  apply(/** @type {import('webpack').Compiler} */ compiler) {
    compiler.hooks.beforeCompile.tapPromise("VeliteWebpackPlugin", async () => {
      if (VeliteWebpackPlugin.started) return;
      VeliteWebpackPlugin.started = true;
      const dev = compiler.options.mode === "development";
      this.options.watch = this.options.watch ?? dev;
      this.options.clean = this.options.clean ?? !dev;
      await build(this.options); // start velite
    });
  }
}
```

## Title

````mdx
```ts title="path/to/file.ts"
// Code here
```
````

## Line Highlight

````mdx
```ts {1,3-6}
// Highlight line 1 and line 3 to 6
```
````

## Word Highlight

````mdx
```ts /Yogesh Singh/
// Highlight the word Yogesh Singh.
```
````

## Line Numbers

````mdx
```tsx showLineNumbers
// This will show line numbers.
```
````